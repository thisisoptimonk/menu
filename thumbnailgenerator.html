<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teaser Card Editor</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

<style>
    /* === 1. ALAP DESIGN === */
    :root {
        --client-color: #ffffff;
        --optimonk-fixed: #ffffff; /* Fix Optimonk Narancs */
    }

    body {
        margin: 0; padding: 0;
        display: flex; justify-content: center; align-items: center;
        height: 100vh;
        background-color: #f0f0f0; 
        font-family: 'Inter', sans-serif;
        overflow: hidden;
    }

    .video-card {
        position: relative;
        width: 800px; height: 300px;
        border-radius: 0px;
        overflow: hidden;
        box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        background-color: #000;
    }

    /* Háttérkép (Base64) */
    .bg-screenshot {
        position: absolute; top: 0; left: 0;
        width: 100%; height: 100%;
        filter: blur(5px) brightness(0.7); /* Kicsit sötétebb, hogy a színes szöveg olvasható legyen */
        transform: scale(1.1); 
        z-index: 1;
    }

    /* Tartalom réteg */
    .content-overlay {
        position: absolute; top: 0; left: 0;
        width: 100%; height: 100%;
        z-index: 10;
        display: flex; flex-direction: column;
        justify-content: center; align-items: center;
        text-align: center;
        color: white;
    }

    h1 {
        font-family: 'Inter', sans-serif;
        font-size: 42px;
        text-transform: uppercase;
        margin: 0 0 10px 0;
        letter-spacing: 1px;
        text-shadow: 0 2px 15px rgba(0,0,0,0.8); /* Erősebb árnyék a színes szöveghez */
        outline: none; 
    }
    
    /* ITT A VÁLTOZÁS: Az ügyfél neve kapja a színt! */
    .brand-main { 
        color: var(--client-color); 
    }
    
    .separator { 
        font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        color: #ffffff; 
        margin: 0 10px; font-size: 0.8em; vertical-align: middle; opacity: 1;
    }
    
    /* OptiMonk fix szín */
    .brand-partner { 
        color: var(--optimonk-fixed); 
    }

    .subtitle {
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 3px;
        margin-bottom: 30px;
        opacity: 0.9;
        font-weight: 600;
        outline: none;
    }

    /* === PLAY GOMB (Az ügyfél színét kapja) === */
    

    /* Lábléc */
    .footer {
        position: absolute; bottom: 30px;
        display: flex; align-items: center; gap: 12px;
        font-family: 'Montserrat', sans-serif; font-size: 14px;
    }


    
    .signature-name { outline: none; }

    /* === 2. EDITOR UI STÍLUSOK === */
    .tools-panel {
        position: fixed; bottom: 60px; left: 50%;
        transform: translateX(-50%);
        z-index: 99999;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(15px);
        border-radius: 50px;
        padding: 0.6rem 1.2rem;
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        display: flex; align-items: center; gap: 1rem;
        transition: all 0.3s ease-out;
    }


    .color-group {
        display: flex; align-items: center; gap: 8px;
        background: rgba(0,0,0,0.05); padding: 4px 10px 4px 6px; border-radius: 30px;
    }
    input[type="color"] {
        border: none; width: 28px; height: 28px; cursor: pointer; background: none;
    }
    .hex-input {
        width: 65px; border: none; background: transparent;
        font-family: 'Montserrat', sans-serif; font-weight: 600;
        text-transform: uppercase; outline: none; text-align: center;
    }
    .tools-panel-btn {
        background: rgba(0,0,0,0.1); border-radius: 50%;
        width: 38px; height: 38px;
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; transition: all 0.2s;
    }
    .tools-panel-btn:hover, .tools-panel-btn.active {
        background: var(--client-color); color: white;
    }

    /* Szerkesztő mód jelzései */
    body.edit-mode-active [data-placeholder]:hover {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 4px; cursor: text;
    }

    .herotext {
background-color: rgba(255, 255, 255, 0.3);
        padding: 20px 20px 0px 20px;
        border-radius: 10px;
        backdrop-filter: blur(10px);
    }

        .herotext2 {
background-color: rgba(0, 0, 0, 0.3);
        padding: 5px 20px 5px 20px;
        border-radius: 10px;
        backdrop-filter: blur(10px);
    }
</style>
</head>
<body>

    <div class="video-card">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABQAAAALQCAIAAABAH0oBAAAQAElEQVR4nOzdva5V5b6A8ekXXxuiGE9hCMToJZhob21H4T14B9YWXoAm1nYWWtkSqqOiJiQmR4kJSICgwJLvtWAJKOfNfMPM2iw1p1jZ+7if369YGXPMMQclefIf7zuefvjw4QIAAAD+0z29AAAAgAABDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIAB4O9kY2Pj2rVrTzzxxO+//762tra5uTkOHj58OM6Mb5966qndu3e/+uqrCwBgGwEMAP9PnT17dmTtgwcPxvGTTz45KvfGjRuff/75yZMnR+jeu3fvyy+/vHLlyv37959YGpft27fv8OHD44IFALCNAAaAf7Pbt29fuHBhFOxI2Z9++un69eu//fbbmOseO3Zsdu9iOdodJXzmzJmvvvpqfDuL9+HS008/feDAgTkHHteMbxcAwB8RwADwr/Pdd9/dvXt3xOr8OGL14sWL33777Q8//LBr165RwqdOnRoNPEp41OxM2YMHD87QHXG7sbExe3ieGQdz8Ds6eWTwPD8PAIDt/B8JADvv1q1bo3VH6I5qHUG7trY2avbOnTunT58eH8f5manj4Pz586N+9y2tr6+P6+csd7Gs2XnN+DvO37t3b9W9W40Lxnx49PP8uDoAAB4jgAFgZ5w9e/bDDz8cI9lnnnlmFO/I2tmuly9fnpPba9euHTp0aBTvON6zZ898jHmU8NZx7tboXZ2Z0+ARwH/4746LxwR48WgaPP8CANsJYADYGe+8886nn346+vPgwYOjdUeyji4dMTy+OnDgwBjMjo8zeufB6uM0prgjdOf4d/xqjHxn+s6gnVthzboe9//HP/5x9erVMWde/eurpb/WAAPAnxHAALAzjh8/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ggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAsAAAoEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABIEMAAAAAkCGAAAgAQBDAAAQIIABgAAIEEAAwAAkCCAAQAASBDAAAAAJAhgAAAAEgQwAAAACQIYAACABAEMAABAggAGAAAgQQADAACQIIABAABIEMAAAAAkCGAAAAASBDAAAAAJAhgAAIAEAQwAAECCAAYAACBBAAMAAJAggAEAAEgQwAAAACQIYAAAABL+FwAA///vVvkwAAAABklEQVQDABP9hygIpdXqAAAAAElFTkSuQmCC" class="bg-screenshot" alt="Background">
        <div class="content-overlay">
            <div class="herotext">            <h1>
                <span class="brand-main" data-placeholder="brandName" contenteditable="false">Deliver</span>
                
                <span class="separator">X</span>
                
                <span class="brand-partner" data-placeholder="partnerName" contenteditable="false">OptiMonk</span>
            </h1>
        
                    <div class="subtitle" data-placeholder="subtitle" contenteditable="false">A personalised demo made for you</div>
</div>




            <div class="footer">
<div class="herotext2"> 
                <div>Curated by <strong class="signature-name" data-placeholder="signatureName" contenteditable="false">Kata Gazsó</strong></div>
            </div>
            </div>
            
        </div>
    </div>

    <div class="tools-panel">
        <div class="color-group">
            <input type="color" id="colorPicker" value="#FFFFFF">
            <input type="text" id="hexInput" class="hex-input" value="#D92828" maxlength="7">
        </div>
        <div class="tools-panel-btn" id="editModeToggle" title="Edit Text">
            <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" /></svg>
        </div>
    </div>

<script>
    // === EDITOR LOGIKA ===
    const secretCode = ['e', 'd', 'i', 't', 'o', 'r'];
    let secretCodePosition = 0;
    let isEditMode = false;

    function updateAvatarInitials() {
        const nameEl = document.querySelector('.signature-name');
        const avatarEl = document.querySelector('.avatar');
        if(nameEl && avatarEl) {
            const initials = nameEl.innerText.trim().split(/\s+/).map(w => w.charAt(0)).join('').toUpperCase().substring(0,2);
            avatarEl.innerText = initials;
        }
    }

    // A picker most a --client-color változót frissíti!
    function updateColor(hex) {
        document.documentElement.style.setProperty('--client-color', hex);
        document.getElementById('hexInput').value = hex;
        document.getElementById('colorPicker').value = hex;
    }

    document.addEventListener("DOMContentLoaded", () => {
        const picker = document.getElementById('colorPicker');
        const hexInput = document.getElementById('hexInput');
        const editBtn = document.getElementById('editModeToggle');

        // Kezdeti beállítás a picker alapértéke alapján
        updateColor(picker.value);

        // Eseményfigyelők
        picker.addEventListener('input', (e) => updateColor(e.target.value));
        hexInput.addEventListener('input', (e) => {
            let val = e.target.value;
            if(!val.startsWith('#')) val = '#' + val;
            if(/^#[0-9A-F]{6}$/i.test(val)) updateColor(val);
        });

        editBtn.addEventListener('click', () => {
            isEditMode = !isEditMode;
            editBtn.classList.toggle('active', isEditMode);
            document.body.classList.toggle('edit-mode-active', isEditMode);
            document.querySelectorAll('[data-placeholder]').forEach(el => el.contentEditable = isEditMode);
        });

        document.querySelector('.signature-name').addEventListener('input', updateAvatarInitials);

        document.addEventListener('keydown', (e) => {
            if(document.activeElement.isContentEditable || document.activeElement.tagName === 'INPUT') return;
            const key = e.key.toLowerCase();
            if (key === secretCode[secretCodePosition]) {
                secretCodePosition++;
                if (secretCodePosition === secretCode.length) {
                    document.querySelector('.tools-panel').classList.toggle('visible');
                    secretCodePosition = 0;
                }
            } else {
                secretCodePosition = (key === secretCode[0]) ? 1 : 0;
            }
        });
        
        updateAvatarInitials();
    });
</script>

</body>
</html> 